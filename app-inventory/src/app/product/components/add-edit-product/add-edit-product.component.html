<div class="product-form-page">
  <p *ngIf="error$ | async" class="message">{{ error$ | async></p>
  <h1>{{ isEditing ? "Edit Product" : "Add Product" }}</h1>
  <form [formGroup]="form" (submit)="onHandleSubmit($event)">
    <div class="form-group">
      <label for="">Product Name</label>
      <input type="text" name="name" formControlName="name" required />
    </div>

    <div class="form-group">
      <label for="">Sku</label>
      <input type="text" formControlName="sku" required />
    </div>

    <div class="form-group">
      <label for="">Stock Quantity</label>
      <input
        type="number"
        formControlName="stockQuantity"
        name="stockQuantity"
        min="0"
        required
      />
    </div>

    <div class="form-group">
      <label for="">Price</label>
      <input
        type="number"
        min="0"
        formControlName="price"
        name="price"
        required
      />
    </div>

    <div class="form-group">
      <label for="">Description</label>
      <textarea
        formControlName="description"
        name="description"
        required
      ></textarea>
    </div>

    <div class="form-group">
      <label for="">Category</label>
      <select formControlName="categoryId" name="categoryId" id="" required>
        <option value="">Select a category</option>
        <option
          *ngFor="let category of categories$ | async as categories"
          [value]="category.id"
        >
          {{ category.name }}
        </option>
      </select>
    </div>
    <!--
    <div class="form-group">
      <label for="">Product Image</label>
      <input type="file" (change)="onHandleImage($event)" />
      <div *ngIf="imageUrl">
        <img [src]="imageUrl" alt="preview" class="image-preview" />
      </div>
    </div>-->

    <button type="submit">
      {{ isEditing ? "Edit Product" : "Add Product" }}
    </button>
  </form>
</div>
